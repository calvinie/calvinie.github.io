<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.61" />
    <meta name="theme" content="VuePress Theme Hope" />
    <title>SQL语言基础 | Java全站知识体系</title><meta name="description" content="苦作乐！">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-9a7adceb.css" as="style"><link rel="stylesheet" href="/assets/style-9a7adceb.css">
    <link rel="modulepreload" href="/assets/app-d6fbb73f.js"><link rel="modulepreload" href="/assets/framework-3ae3a606.js"><link rel="modulepreload" href="/assets/sql-lan.html-16ef9759.js"><link rel="modulepreload" href="/assets/sql-lan.html-044f846e.js"><link rel="prefetch" href="/assets/index.html-935ae197.js" as="script"><link rel="prefetch" href="/assets/index.html-5517851f.js" as="script"><link rel="prefetch" href="/assets/oop.html-2ac64022.js" as="script"><link rel="prefetch" href="/assets/index.html-e001951a.js" as="script"><link rel="prefetch" href="/assets/md-lan.html-289a628a.js" as="script"><link rel="prefetch" href="/assets/index.html-212fac6e.js" as="script"><link rel="prefetch" href="/assets/index.html-675c88e7.js" as="script"><link rel="prefetch" href="/assets/index.html-fa95e727.js" as="script"><link rel="prefetch" href="/assets/index.html-f61b948f.js" as="script"><link rel="prefetch" href="/assets/index.html-61cc9b75.js" as="script"><link rel="prefetch" href="/assets/index.html-462b7315.js" as="script"><link rel="prefetch" href="/assets/overview-besides-tech.html-b7299a52.js" as="script"><link rel="prefetch" href="/assets/index.html-683bb3ab.js" as="script"><link rel="prefetch" href="/assets/index.html-4b03afec.js" as="script"><link rel="prefetch" href="/assets/index.html-9ec3b74a.js" as="script"><link rel="prefetch" href="/assets/sql-lan-leetcode.html-ee2ba48b.js" as="script"><link rel="prefetch" href="/assets/sql-lan-optimize.html-c613f2fe.js" as="script"><link rel="prefetch" href="/assets/index.html-4607a2a4.js" as="script"><link rel="prefetch" href="/assets/code-style-alibaba.html-7242dfda.js" as="script"><link rel="prefetch" href="/assets/code-style-google.html-be2f457c.js" as="script"><link rel="prefetch" href="/assets/lombok.html-2eee6ff9.js" as="script"><link rel="prefetch" href="/assets/index.html-35c9f185.js" as="script"><link rel="prefetch" href="/assets/index.html-118a2f1b.js" as="script"><link rel="prefetch" href="/assets/index.html-28287730.js" as="script"><link rel="prefetch" href="/assets/index.html-2ecda0e3.js" as="script"><link rel="prefetch" href="/assets/index.html-e5d2e287.js" as="script"><link rel="prefetch" href="/assets/404.html-81a48005.js" as="script"><link rel="prefetch" href="/assets/index.html-778b9984.js" as="script"><link rel="prefetch" href="/assets/index.html-fe4b671e.js" as="script"><link rel="prefetch" href="/assets/index.html-ba2c7c76.js" as="script"><link rel="prefetch" href="/assets/index.html-ca4b6d28.js" as="script"><link rel="prefetch" href="/assets/index.html-88714dd9.js" as="script"><link rel="prefetch" href="/assets/index.html-2c5016cb.js" as="script"><link rel="prefetch" href="/assets/index.html-7d6d2934.js" as="script"><link rel="prefetch" href="/assets/index.html-6419f8a9.js" as="script"><link rel="prefetch" href="/assets/oop.html-ae9e6364.js" as="script"><link rel="prefetch" href="/assets/index.html-97236385.js" as="script"><link rel="prefetch" href="/assets/md-lan.html-afc71a4a.js" as="script"><link rel="prefetch" href="/assets/index.html-ef1a7ef3.js" as="script"><link rel="prefetch" href="/assets/index.html-2330bdff.js" as="script"><link rel="prefetch" href="/assets/index.html-da717e31.js" as="script"><link rel="prefetch" href="/assets/index.html-c76de91a.js" as="script"><link rel="prefetch" href="/assets/index.html-cdc2d106.js" as="script"><link rel="prefetch" href="/assets/index.html-dd0a70dc.js" as="script"><link rel="prefetch" href="/assets/overview-besides-tech.html-0d8b53f6.js" as="script"><link rel="prefetch" href="/assets/index.html-84871162.js" as="script"><link rel="prefetch" href="/assets/index.html-867d1564.js" as="script"><link rel="prefetch" href="/assets/index.html-69d78d03.js" as="script"><link rel="prefetch" href="/assets/sql-lan-leetcode.html-9e591823.js" as="script"><link rel="prefetch" href="/assets/sql-lan-optimize.html-353a32b4.js" as="script"><link rel="prefetch" href="/assets/index.html-db8e89ad.js" as="script"><link rel="prefetch" href="/assets/code-style-alibaba.html-719c24dc.js" as="script"><link rel="prefetch" href="/assets/code-style-google.html-daeccdaf.js" as="script"><link rel="prefetch" href="/assets/lombok.html-c7dd0ab2.js" as="script"><link rel="prefetch" href="/assets/index.html-114a6cc1.js" as="script"><link rel="prefetch" href="/assets/index.html-bf5ba245.js" as="script"><link rel="prefetch" href="/assets/index.html-6ce2b89c.js" as="script"><link rel="prefetch" href="/assets/index.html-917ced17.js" as="script"><link rel="prefetch" href="/assets/index.html-9ae01099.js" as="script"><link rel="prefetch" href="/assets/404.html-a44b9461.js" as="script"><link rel="prefetch" href="/assets/index.html-f8de546a.js" as="script"><link rel="prefetch" href="/assets/index.html-2fa4bc08.js" as="script"><link rel="prefetch" href="/assets/index.html-f6bf274c.js" as="script"><link rel="prefetch" href="/assets/index.html-ef79a2c4.js" as="script"><link rel="prefetch" href="/assets/index.html-39b8988d.js" as="script"><link rel="prefetch" href="/assets/index.html-c786d7dc.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-36cd6c3c.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">跳至主要內容</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button type="button" class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><!----><!----><span class="site-name">Java全站知识体系</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="面试"><span class="title"><!---->面试</span><span class="arrow"></span><ul class="nav-dropdown"></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="java"><span class="title"><!---->java</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/java/oop/" class="nav-link" aria-label="面向对象基础"><!---->面向对象基础<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="数据库"><span class="title"><!---->数据库</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>数据库基础和原理</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/db/sql/" class="nav-link" aria-label="数据库原理"><!---->数据库原理<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>SQL语言</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html" class="router-link-active router-link-exact-active nav-link active" aria-label="SQL语言-基础"><!---->SQL语言-基础<!----></a></li><li class="dropdown-subitem"><a href="/md/db/sql-lan/sql-lan-leetcode.html" class="nav-link" aria-label="SQL语言-leetcode"><!---->SQL语言-leetcode<!----></a></li><li class="dropdown-subitem"><a href="/md/db/sql-lan/sql-lan-optimize.html" class="nav-link" aria-label="SQL语言-SQL语句优化"><!---->SQL语言-SQL语句优化<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>数据库</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/db/mysql/" class="nav-link" aria-label="mysql"><!---->mysql<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="开发"><span class="title"><!---->开发</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>开发之常用类库</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/develop/package/lombok.html" class="nav-link" aria-label="开发之常用类库-Lombok工具库详解"><!---->开发之常用类库-Lombok工具库详解<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="Spring"><span class="title"><!---->Spring</span><span class="arrow"></span><ul class="nav-dropdown"></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="方法论"><span class="title"><!---->方法论</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>代码规范</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/dev-spec/code-style/code-style-alibaba.html" class="nav-link" aria-label="阿里巴巴 Java 开发手册"><!---->阿里巴巴 Java 开发手册<!----></a></li><li class="dropdown-subitem"><a href="/md/dev-spec/code-style/code-style-google.html" class="nav-link" aria-label="Google Java 编程风格指南"><!---->Google Java 编程风格指南<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="产品｜团队"><span class="title"><!---->产品｜团队</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>技术之外</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/team/overview-besides-tech.html" class="nav-link" aria-label="技术之外我们应该思考什么"><!---->技术之外我们应该思考什么<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="软考"><span class="title"><!---->软考</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>计算机基础知识</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/ruankao/%E6%8A%80%E6%9C%AF%E7%B1%BB/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80/" class="nav-link" aria-label="操作系统知识"><!---->操作系统知识<!----></a></li><li class="dropdown-subitem"><a href="/md/ruankao/%E6%8A%80%E6%9C%AF%E7%B1%BB/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/" class="nav-link" aria-label="计算机基础"><!---->计算机基础<!----></a></li><li class="dropdown-subitem"><a href="/md/ruankao/%E6%8A%80%E6%9C%AF%E7%B1%BB/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/" class="nav-link" aria-label="计算机网络基础"><!---->计算机网络基础<!----></a></li><li class="dropdown-subitem"><a href="/md/ruankao/%E6%8A%80%E6%9C%AF%E7%B1%BB/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/" class="nav-link" aria-label="数据库基础"><!---->数据库基础<!----></a></li></ul></li><li class="dropdown-item"><a href="/md/about/" class="nav-link" aria-label="系统架构设计师"><!---->系统架构设计师<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="工具"><span class="title"><!---->工具</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/md/tools/vpn/" class="nav-link" aria-label="VPN"><!---->VPN<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/md/about/" class="nav-link" aria-label="关于我"><!---->关于我<!----></a></div></nav><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/calvinie/mydoc" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--[--><!----><!--]--><button type="button" class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><p class="sidebar-heading"><!----><span class="title">数据库基础和原理</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/md/db/sql/" class="nav-link sidebar-link sidebar-page" aria-label="数据库原理"><!---->数据库原理<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading active"><!----><span class="title">SQL语言</span><!----></p><ul class="sidebar-links"><li><!--[--><a aria-current="page" href="/md/db/sql-lan/sql-lan.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="SQL语言-基础"><!---->SQL语言-基础<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#基础" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="基础"><!---->基础<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#注释" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="注释"><!---->注释<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#数据库创建与使用" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="数据库创建与使用:"><!---->数据库创建与使用:<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#创建表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="创建表"><!---->创建表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#修改表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="修改表"><!---->修改表<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#添加列" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="添加列"><!---->添加列<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#修改列和属性" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="修改列和属性"><!---->修改列和属性<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#删除列" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="删除列"><!---->删除列<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#删除表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="删除表"><!---->删除表<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#插入" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="插入"><!---->插入<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#普通插入" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="普通插入"><!---->普通插入<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#插入检索出来的数据" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="插入检索出来的数据"><!---->插入检索出来的数据<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#将一个表的内容插入到一个新表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="将一个表的内容插入到一个新表"><!---->将一个表的内容插入到一个新表<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#更新" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="更新"><!---->更新<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#删除" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="删除"><!---->删除<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#truncate-table-可以清空表-也就是删除所有行。" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="TRUNCATE TABLE 可以清空表，也就是删除所有行。"><!---->TRUNCATE TABLE 可以清空表，也就是删除所有行。<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="查询"><!---->查询<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#distinct-去重" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="DISTINCT 去重"><!---->DISTINCT 去重<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#limit-限制返回的行数" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="LIMIT 限制返回的行数"><!---->LIMIT 限制返回的行数<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#order-by-排序" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ORDER BY 排序"><!---->ORDER BY 排序<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#where-条件查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="WHERE 条件查询"><!---->WHERE 条件查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#通配符" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="通配符"><!---->通配符<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#计算字段" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="计算字段"><!---->计算字段<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#函数" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="函数"><!---->函数<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#汇总" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="汇总"><!---->汇总<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#文本处理" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="文本处理"><!---->文本处理<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#日期和时间处理" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="日期和时间处理"><!---->日期和时间处理<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#数值处理" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="数值处理"><!---->数值处理<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#分组" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="分组"><!---->分组<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#子查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="子查询"><!---->子查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#连接" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="连接"><!---->连接<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#内连接" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="内连接"><!---->内连接<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#自连接" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="自连接"><!---->自连接<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#自然连接" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="自然连接"><!---->自然连接<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#外连接" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="外连接"><!---->外连接<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#组合查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="组合查询"><!---->组合查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#视图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="视图"><!---->视图<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#存储过程" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="存储过程"><!---->存储过程<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#游标" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="游标"><!---->游标<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#触发器" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="触发器"><!---->触发器<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#事务管理" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="事务管理"><!---->事务管理<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#字符集" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="字符集"><!---->字符集<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#权限管理" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="权限管理"><!---->权限管理<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#创建账户" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="创建账户"><!---->创建账户<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#修改账户名" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="修改账户名"><!---->修改账户名<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#删除账户" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="删除账户"><!---->删除账户<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#查看权限" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="查看权限"><!---->查看权限<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#授予权限" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="授予权限"><!---->授予权限<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#删除权限" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="删除权限"><!---->删除权限<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#更改密码" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="更改密码"><!---->更改密码<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#参考资料" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="参考资料"><!---->参考资料<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/md/db/sql-lan/sql-lan-leetcode.html" class="nav-link sidebar-link sidebar-page" aria-label="SQL语言-leetcode"><!---->SQL语言-leetcode<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/md/db/sql-lan/sql-lan-optimize.html" class="nav-link sidebar-link sidebar-page" aria-label="SQL语言-SQL语句优化"><!---->SQL语言-SQL语句优化<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading"><!----><span class="title">数据库</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/md/db/mysql/" class="nav-link sidebar-link sidebar-page" aria-label="mysql"><!---->mysql<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->SQL语言基础</h1><div class="page-info"><!----><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-04-11T09:17:36.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 14 分钟</span><meta property="timeRequired" content="PT14M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#基础" class="router-link-active router-link-exact-active toc-link level2">基础</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#注释" class="router-link-active router-link-exact-active toc-link level3">注释</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#数据库创建与使用" class="router-link-active router-link-exact-active toc-link level3">数据库创建与使用:</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#创建表" class="router-link-active router-link-exact-active toc-link level2">创建表</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#修改表" class="router-link-active router-link-exact-active toc-link level2">修改表</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#添加列" class="router-link-active router-link-exact-active toc-link level3">添加列</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#修改列和属性" class="router-link-active router-link-exact-active toc-link level3">修改列和属性</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#删除列" class="router-link-active router-link-exact-active toc-link level3">删除列</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#删除表" class="router-link-active router-link-exact-active toc-link level3">删除表</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#插入" class="router-link-active router-link-exact-active toc-link level2">插入</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#普通插入" class="router-link-active router-link-exact-active toc-link level3">普通插入</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#插入检索出来的数据" class="router-link-active router-link-exact-active toc-link level3">插入检索出来的数据</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#将一个表的内容插入到一个新表" class="router-link-active router-link-exact-active toc-link level3">将一个表的内容插入到一个新表</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#更新" class="router-link-active router-link-exact-active toc-link level2">更新</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#删除" class="router-link-active router-link-exact-active toc-link level2">删除</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#truncate-table-可以清空表-也就是删除所有行。" class="router-link-active router-link-exact-active toc-link level3">TRUNCATE TABLE 可以清空表，也就是删除所有行。</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#查询" class="router-link-active router-link-exact-active toc-link level2">查询</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#distinct-去重" class="router-link-active router-link-exact-active toc-link level3">DISTINCT 去重</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#limit-限制返回的行数" class="router-link-active router-link-exact-active toc-link level3">LIMIT 限制返回的行数</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#order-by-排序" class="router-link-active router-link-exact-active toc-link level3">ORDER BY 排序</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#where-条件查询" class="router-link-active router-link-exact-active toc-link level3">WHERE 条件查询</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#通配符" class="router-link-active router-link-exact-active toc-link level3">通配符</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#计算字段" class="router-link-active router-link-exact-active toc-link level3">计算字段</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#函数" class="router-link-active router-link-exact-active toc-link level2">函数</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#汇总" class="router-link-active router-link-exact-active toc-link level3">汇总</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#文本处理" class="router-link-active router-link-exact-active toc-link level3">文本处理</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#日期和时间处理" class="router-link-active router-link-exact-active toc-link level3">日期和时间处理</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#数值处理" class="router-link-active router-link-exact-active toc-link level3">数值处理</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#分组" class="router-link-active router-link-exact-active toc-link level2">分组</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#子查询" class="router-link-active router-link-exact-active toc-link level2">子查询</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#连接" class="router-link-active router-link-exact-active toc-link level2">连接</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#内连接" class="router-link-active router-link-exact-active toc-link level3">内连接</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#自连接" class="router-link-active router-link-exact-active toc-link level3">自连接</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#自然连接" class="router-link-active router-link-exact-active toc-link level3">自然连接</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#外连接" class="router-link-active router-link-exact-active toc-link level3">外连接</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#组合查询" class="router-link-active router-link-exact-active toc-link level2">组合查询</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#视图" class="router-link-active router-link-exact-active toc-link level2">视图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#存储过程" class="router-link-active router-link-exact-active toc-link level2">存储过程</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#游标" class="router-link-active router-link-exact-active toc-link level2">游标</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#触发器" class="router-link-active router-link-exact-active toc-link level2">触发器</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#事务管理" class="router-link-active router-link-exact-active toc-link level2">事务管理</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#字符集" class="router-link-active router-link-exact-active toc-link level2">字符集</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#权限管理" class="router-link-active router-link-exact-active toc-link level2">权限管理</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#创建账户" class="router-link-active router-link-exact-active toc-link level3">创建账户</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#修改账户名" class="router-link-active router-link-exact-active toc-link level3">修改账户名</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#删除账户" class="router-link-active router-link-exact-active toc-link level3">删除账户</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#查看权限" class="router-link-active router-link-exact-active toc-link level3">查看权限</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#授予权限" class="router-link-active router-link-exact-active toc-link level3">授予权限</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#删除权限" class="router-link-active router-link-exact-active toc-link level3">删除权限</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#更改密码" class="router-link-active router-link-exact-active toc-link level3">更改密码</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#参考资料" class="router-link-active router-link-exact-active toc-link level2">参考资料</a></li><!----><!--]--></ul></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><blockquote><p>本文包含了所有SQL语言的基础语法，并用例子的方式向你展示。 [TOC]</p></blockquote><nav class="table-of-contents"><ul><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#基础" class="router-link-active router-link-exact-active">基础</a><ul><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#注释" class="router-link-active router-link-exact-active">注释</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#数据库创建与使用" class="router-link-active router-link-exact-active">数据库创建与使用:</a></li></ul></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#创建表" class="router-link-active router-link-exact-active">创建表</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#修改表" class="router-link-active router-link-exact-active">修改表</a><ul><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#添加列" class="router-link-active router-link-exact-active">添加列</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#修改列和属性" class="router-link-active router-link-exact-active">修改列和属性</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#删除列" class="router-link-active router-link-exact-active">删除列</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#删除表" class="router-link-active router-link-exact-active">删除表</a></li></ul></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#插入" class="router-link-active router-link-exact-active">插入</a><ul><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#普通插入" class="router-link-active router-link-exact-active">普通插入</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#插入检索出来的数据" class="router-link-active router-link-exact-active">插入检索出来的数据</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#将一个表的内容插入到一个新表" class="router-link-active router-link-exact-active">将一个表的内容插入到一个新表</a></li></ul></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#更新" class="router-link-active router-link-exact-active">更新</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#删除" class="router-link-active router-link-exact-active">删除</a><ul><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#truncate-table-可以清空表-也就是删除所有行。" class="router-link-active router-link-exact-active">TRUNCATE TABLE 可以清空表，也就是删除所有行。</a></li></ul></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#查询" class="router-link-active router-link-exact-active">查询</a><ul><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#distinct-去重" class="router-link-active router-link-exact-active">DISTINCT 去重</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#limit-限制返回的行数" class="router-link-active router-link-exact-active">LIMIT 限制返回的行数</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#order-by-排序" class="router-link-active router-link-exact-active">ORDER BY 排序</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#where-条件查询" class="router-link-active router-link-exact-active">WHERE 条件查询</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#通配符" class="router-link-active router-link-exact-active">通配符</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#计算字段" class="router-link-active router-link-exact-active">计算字段</a></li></ul></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#函数" class="router-link-active router-link-exact-active">函数</a><ul><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#汇总" class="router-link-active router-link-exact-active">汇总</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#文本处理" class="router-link-active router-link-exact-active">文本处理</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#日期和时间处理" class="router-link-active router-link-exact-active">日期和时间处理</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#数值处理" class="router-link-active router-link-exact-active">数值处理</a></li></ul></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#分组" class="router-link-active router-link-exact-active">分组</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#子查询" class="router-link-active router-link-exact-active">子查询</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#连接" class="router-link-active router-link-exact-active">连接</a><ul><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#内连接" class="router-link-active router-link-exact-active">内连接</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#自连接" class="router-link-active router-link-exact-active">自连接</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#自然连接" class="router-link-active router-link-exact-active">自然连接</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#外连接" class="router-link-active router-link-exact-active">外连接</a></li></ul></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#组合查询" class="router-link-active router-link-exact-active">组合查询</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#视图" class="router-link-active router-link-exact-active">视图</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#存储过程" class="router-link-active router-link-exact-active">存储过程</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#游标" class="router-link-active router-link-exact-active">游标</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#触发器" class="router-link-active router-link-exact-active">触发器</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#事务管理" class="router-link-active router-link-exact-active">事务管理</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#字符集" class="router-link-active router-link-exact-active">字符集</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#权限管理" class="router-link-active router-link-exact-active">权限管理</a><ul><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#创建账户" class="router-link-active router-link-exact-active">创建账户</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#修改账户名" class="router-link-active router-link-exact-active">修改账户名</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#删除账户" class="router-link-active router-link-exact-active">删除账户</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#查看权限" class="router-link-active router-link-exact-active">查看权限</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#授予权限" class="router-link-active router-link-exact-active">授予权限</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#删除权限" class="router-link-active router-link-exact-active">删除权限</a></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#更改密码" class="router-link-active router-link-exact-active">更改密码</a></li></ul></li><li><a aria-current="page" href="/md/db/sql-lan/sql-lan.html#参考资料" class="router-link-active router-link-exact-active">参考资料</a></li></ul></nav><h2 id="基础" tabindex="-1"><a class="header-anchor" href="#基础" aria-hidden="true">#</a> 基础</h2><p>模式定义了数据如何存储、存储什么样的数据以及数据如何分解等信息，数据库和表都有模式。主键的值不允许修改，也不允许复用(不能使用已经删除的主键值赋给新数据行的主键)。SQL(Structured Query Language)，标准 SQL 由 ANSI 标准委员会管理，从而称为 ANSI SQL。各个 DBMS 都有自己的实现，如 PL/SQL、Transact-SQL 等。SQL 语句不区分大小写，但是数据库表名、列名和值是否区分依赖于具体的 DBMS 以及配置。SQL 支持以下三种注释:</p><h3 id="注释" tabindex="-1"><a class="header-anchor" href="#注释" aria-hidden="true">#</a> 注释</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># 注释</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> <span class="token keyword">user</span><span class="token punctuation">;</span> <span class="token comment">-- 注释</span>
<span class="token comment">/* 注释1
   注释2 */</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="数据库创建与使用" tabindex="-1"><a class="header-anchor" href="#数据库创建与使用" aria-hidden="true">#</a> 数据库创建与使用:</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> test<span class="token punctuation">;</span>
<span class="token keyword">USE</span> test<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="创建表" tabindex="-1"><a class="header-anchor" href="#创建表" aria-hidden="true">#</a> 创建表</h2><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> mytable <span class="token punctuation">(</span>
  id <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  col1 <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token number">1</span><span class="token punctuation">,</span>
  col2 <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  col3 <span class="token keyword">DATE</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="修改表" tabindex="-1"><a class="header-anchor" href="#修改表" aria-hidden="true">#</a> 修改表</h2><h3 id="添加列" tabindex="-1"><a class="header-anchor" href="#添加列" aria-hidden="true">#</a> 添加列</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> mytable
<span class="token keyword">ADD</span> col <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="修改列和属性" tabindex="-1"><a class="header-anchor" href="#修改列和属性" aria-hidden="true">#</a> 修改列和属性</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- ALTER TABLE 表名 CHANGE 原字段名 新字段名 字段类型 约束条件</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> mytable 
CHANGE col col1 <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;123&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="删除列" tabindex="-1"><a class="header-anchor" href="#删除列" aria-hidden="true">#</a> 删除列</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> mytable
<span class="token keyword">DROP</span> <span class="token keyword">COLUMN</span> col<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="删除表" tabindex="-1"><a class="header-anchor" href="#删除表" aria-hidden="true">#</a> 删除表</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> mytable<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="插入" tabindex="-1"><a class="header-anchor" href="#插入" aria-hidden="true">#</a> 插入</h2><h3 id="普通插入" tabindex="-1"><a class="header-anchor" href="#普通插入" aria-hidden="true">#</a> 普通插入</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> mytable<span class="token punctuation">(</span>col1<span class="token punctuation">,</span> col2<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span><span class="token punctuation">(</span>val1<span class="token punctuation">,</span> val2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="插入检索出来的数据" tabindex="-1"><a class="header-anchor" href="#插入检索出来的数据" aria-hidden="true">#</a> 插入检索出来的数据</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> mytable1<span class="token punctuation">(</span>col1<span class="token punctuation">,</span> col2<span class="token punctuation">)</span>
<span class="token keyword">SELECT</span> col1<span class="token punctuation">,</span> col2
<span class="token keyword">FROM</span> mytable2<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="将一个表的内容插入到一个新表" tabindex="-1"><a class="header-anchor" href="#将一个表的内容插入到一个新表" aria-hidden="true">#</a> 将一个表的内容插入到一个新表</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> newtable <span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> mytable<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="更新" tabindex="-1"><a class="header-anchor" href="#更新" aria-hidden="true">#</a> 更新</h2><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">UPDATE</span> mytable
<span class="token keyword">SET</span> col <span class="token operator">=</span> val
<span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="删除" tabindex="-1"><a class="header-anchor" href="#删除" aria-hidden="true">#</a> 删除</h2><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> mytable
<span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">注意</p><p>使用更新和删除操作时一定要用 WHERE 子句，不然会把整张表的数据都破坏。可以先用 SELECT 语句进行测试，防止错误删除</p></div><h3 id="truncate-table-可以清空表-也就是删除所有行。" tabindex="-1"><a class="header-anchor" href="#truncate-table-可以清空表-也就是删除所有行。" aria-hidden="true">#</a> TRUNCATE TABLE 可以清空表，也就是删除所有行。</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">TRUNCATE</span> <span class="token keyword">TABLE</span> mytable<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="hint-container danger"><p class="hint-container-title">警告</p><ol><li>TRUNCATE TABLE 在功能上与不带 WHERE 子句的 DELETE 语句相同：二者均删除表中的全部行。但 TRUNCATE TABLE 比 DELETE 速度快，且使用的系统和事务日志资源少。</li><li>DELETE 语句每次删除一行，并在事务日志中为所删除的每行记录一项。TRUNCATE TABLE 通过释放存储表数据所用的数据页来删除数据，并且只在事务日志中记录页的释放。</li><li>TRUNCATE TABLE 删除表中的所有行，但表结构及其列、约束、索引等保持不变。新行标识所用的计数值重置为该列的种子。如果想保留标识计数值，请改用 DELETE。如果要删除表定义及其数据，请使用 DROP TABLE 语句。</li><li>对于由 FOREIGN KEY 约束引用的表，不能使用 TRUNCATE TABLE，而应使用不带 WHERE 子句的 DELETE 语句。由于 TRUNCATE TABLE 不记录在日志中，所以它不能激活触发器。</li><li>TRUNCATE TABLE 不能用于参与了索引视图的表。</li><li>对用TRUNCATE TABLE删除数据的表上增加数据时，要使用UPDATE STATISTICS来维护索引信息。</li><li>如果有ROLLBACK语句，DELETE操作将被撤销，但TRUNCATE不会撤销。</li></ol></div><h2 id="查询" tabindex="-1"><a class="header-anchor" href="#查询" aria-hidden="true">#</a> 查询</h2><h3 id="distinct-去重" tabindex="-1"><a class="header-anchor" href="#distinct-去重" aria-hidden="true">#</a> DISTINCT 去重</h3><p>相同值只会出现一次。它作用于所有列，也就是说所有列的值都相同才算相同。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> col1<span class="token punctuation">,</span> col2
<span class="token keyword">FROM</span> mytable<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="limit-限制返回的行数" tabindex="-1"><a class="header-anchor" href="#limit-限制返回的行数" aria-hidden="true">#</a> LIMIT 限制返回的行数</h3><p>限制返回的行数。可以有两个参数，第一个参数为起始行，从 0 开始；第二个参数为返回的总行数。 返回前 5 行:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> mytable
<span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> mytable
<span class="token keyword">LIMIT</span> <span class="token number">5</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>返回第 3 ~ 5 行:</p><div class="language-sqlSELECT line-numbers-mode" data-ext="sqlSELECT"><pre class="language-sqlSELECT"><code>FROM mytable
LIMIT 2 OFFSET 3;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> mytable
<span class="token keyword">LIMIT</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="order-by-排序" tabindex="-1"><a class="header-anchor" href="#order-by-排序" aria-hidden="true">#</a> ORDER BY 排序</h3><p>规则</p><ul><li>ASC : 升序(默认)。</li><li>DESC : 降序。</li></ul><p>可以按多个列进行排序，并且为每个列指定不同的排序方式:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> mytable
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> col1 <span class="token keyword">DESC</span><span class="token punctuation">,</span> col2 <span class="token keyword">ASC</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="where-条件查询" tabindex="-1"><a class="header-anchor" href="#where-条件查询" aria-hidden="true">#</a> WHERE 条件查询</h3><p>不进行过滤的数据非常大，导致通过网络传输了多余的数据，从而浪费了网络带宽。因此尽量使用 SQL 语句来过滤不必要的数据，而不是传输所有的数据到客户端中然后由客户端进行过滤。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> mytable
<span class="token keyword">WHERE</span> col <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="通配符" tabindex="-1"><a class="header-anchor" href="#通配符" aria-hidden="true">#</a> 通配符</h3><p>通配符也是用在过滤语句中，但它只能用于文本字段。类型：</p><ul><li>% 匹配 &gt;=0 个任意字符；_ 匹配 ==1 个任意字符；</li><li>[ ] 可以匹配集合内的字符，例如 [ab] 将匹配字符 a 或者 b。用脱字符</li><li>^ 可以对其进行否定，也就是不匹配集合内的字符。使用 Like 来进行通配符匹配。</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> mytable
<span class="token keyword">WHERE</span> col <span class="token operator">LIKE</span> <span class="token string">&#39;[^AB]%&#39;</span><span class="token punctuation">;</span> <span class="token comment">-- 不以 A 和 B 开头的任意文本</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">注意</p><p>不要滥用通配符，通配符位于开头处匹配会非常慢。</p></div><h3 id="计算字段" tabindex="-1"><a class="header-anchor" href="#计算字段" aria-hidden="true">#</a> 计算字段</h3><p>在数据库服务器上完成数据的转换和格式化的工作往往比客户端上快得多，并且转换和格式化后的数据量更少的话可以减少网络通信量。 计算字段通常需要使用 AS 来取别名，否则输出的时候字段名为计算表达式。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> col1 <span class="token operator">*</span> col2 <span class="token keyword">AS</span> alias
<span class="token keyword">FROM</span> mytable<span class="token punctuation">;</span>q
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>CONCAT() 用于连接两个字段。许多数据库会使用空格把一个值填充为列宽，因此连接的结果会出现一些不必要的空格，使用 TRIM() 可以去除首尾空格。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> CONCAT<span class="token punctuation">(</span>TRIM<span class="token punctuation">(</span>col1<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;(&#39;</span><span class="token punctuation">,</span> TRIM<span class="token punctuation">(</span>col2<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;)&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> concat_col
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="函数" tabindex="-1"><a class="header-anchor" href="#函数" aria-hidden="true">#</a> 函数</h2><p>各个 DBMS 的函数都是不相同的，因此不可移植，以下主要是 MySQL 的函数。</p><h3 id="汇总" tabindex="-1"><a class="header-anchor" href="#汇总" aria-hidden="true">#</a> 汇总</h3><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td>AVG()</td><td>返回某列的平均值</td></tr><tr><td>COUNT()</td><td>返回某列的行数</td></tr><tr><td>MAX()</td><td>返回某列的最大值</td></tr><tr><td>MIN()</td><td>返回某列的最小值</td></tr><tr><td>SUM()</td><td>返回某列值之和</td></tr></tbody></table><p>AVG() 会忽略 NULL 行。</p><p>使用 DISTINCT 可以让汇总函数值汇总不同的值。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span><span class="token keyword">DISTINCT</span> col1<span class="token punctuation">)</span> <span class="token keyword">AS</span> avg_col
<span class="token keyword">FROM</span> mytable<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="文本处理" tabindex="-1"><a class="header-anchor" href="#文本处理" aria-hidden="true">#</a> 文本处理</h3><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td>LEFT()</td><td>左边的字符</td></tr><tr><td>RIGHT()</td><td>右边的字符</td></tr><tr><td>LOWER()</td><td>转换为小写字符</td></tr><tr><td>UPPER()</td><td>转换为大写字符</td></tr><tr><td>LTRIM()</td><td>去除左边的空格</td></tr><tr><td>RTRIM()</td><td>去除右边的空格</td></tr><tr><td>LENGTH()</td><td>长度</td></tr><tr><td>SOUNDEX()</td><td>转换为语音值</td></tr></tbody></table><p>其中， <strong>SOUNDEX()</strong> 可以将一个字符串转换为描述其语音表示的字母数字模式。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> mytable
<span class="token keyword">WHERE</span> SOUNDEX<span class="token punctuation">(</span>col1<span class="token punctuation">)</span> <span class="token operator">=</span> SOUNDEX<span class="token punctuation">(</span><span class="token string">&#39;apple&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="日期和时间处理" tabindex="-1"><a class="header-anchor" href="#日期和时间处理" aria-hidden="true">#</a> 日期和时间处理</h3><p>格式</p><ul><li>日期格式: YYYY-MM-DD</li><li>时间格式: HH:MM:SS</li></ul><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td>AddDate()</td><td>增加一个日期(天、周等)</td></tr><tr><td>AddTime()</td><td>增加一个时间(时、分等)</td></tr><tr><td>CurDate()</td><td>返回当前日期CurTime()</td></tr><tr><td>Date()</td><td>返回日期时间的日期部分</td></tr><tr><td>DateDiff()</td><td>计算两个日期之差</td></tr><tr><td>Date_Add()</td><td>高度灵活的日期运算函数</td></tr><tr><td>Date_Format()</td><td>返回一个格式化的日期或时间串</td></tr><tr><td>Day()</td><td>返回一个日期的天数部分</td></tr><tr><td>DayOfWeek()</td><td>对于一个日期，返回对应的星期几</td></tr><tr><td>Hour()</td><td>返回一个时间的小时部分</td></tr><tr><td>Minute()</td><td>返回一个时间的分钟部分</td></tr><tr><td>Month()</td><td>返回一个日期的月份部分</td></tr><tr><td>Now()</td><td>返回当前日期和时间</td></tr><tr><td>Second()</td><td>返回一个时间的秒部分</td></tr><tr><td>Time()</td><td>返回一个日期时间的时间部分</td></tr><tr><td>Year()</td><td>返回一个日期的年份部分</td></tr></tbody></table><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql<span class="token operator">&gt;</span> SELECT NOW<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">2018</span>-4-14 <span class="token number">20</span>:25:11
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="数值处理" tabindex="-1"><a class="header-anchor" href="#数值处理" aria-hidden="true">#</a> 数值处理</h3><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td>SIN()</td><td>正弦</td></tr><tr><td>COS()</td><td>余弦</td></tr><tr><td>TAN()</td><td>正切</td></tr><tr><td>ABS()</td><td>绝对值</td></tr><tr><td>SQRT()</td><td>平方根</td></tr><tr><td>MOD()</td><td>余数</td></tr><tr><td>EXP()</td><td>指数</td></tr><tr><td>PI()</td><td>圆周率</td></tr><tr><td>RAND()</td><td>随机数</td></tr></tbody></table><h2 id="分组" tabindex="-1"><a class="header-anchor" href="#分组" aria-hidden="true">#</a> 分组</h2><p>分组就是把具有相同的数据值的行放在同一组中。</p><p>可以对同一分组数据使用汇总函数进行处理，例如求分组数据的平均值等。</p><p>指定的分组字段除了能按该字段进行分组，也会自动按该字段进行排序。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> col<span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> num
<span class="token keyword">FROM</span> mytable
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> col<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>GROUP BY 自动按分组字段进行排序，ORDER BY 也可以按汇总字段来进行排序。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> col<span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> num
<span class="token keyword">FROM</span> mytable
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> col
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> num<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>WHERE 过滤行，HAVING 过滤分组，行过滤应当先于分组过滤。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> col<span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> num
<span class="token keyword">FROM</span> mytable
<span class="token keyword">WHERE</span> col <span class="token operator">&gt;</span> <span class="token number">2</span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> col
<span class="token keyword">HAVING</span> num <span class="token operator">&gt;=</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>分组规定:</p><ul><li>GROUP BY 子句出现在 WHERE 子句之后，ORDER BY 子句之前；</li><li>除了汇总字段外，SELECT 语句中的每一字段都必须在 GROUP BY 子句中给出；</li><li>NULL 的行会单独分为一组；</li><li>大多数 SQL 实现不支持 GROUP BY 列具有可变长度的数据类型。</li></ul><h2 id="子查询" tabindex="-1"><a class="header-anchor" href="#子查询" aria-hidden="true">#</a> 子查询</h2><p>子查询中只能返回一个字段的数据。</p><p>可以将子查询的结果作为 WHRER 语句的过滤条件:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> mytable1
<span class="token keyword">WHERE</span> col1 <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> col2
               <span class="token keyword">FROM</span> mytable2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>下面的语句可以检索出客户的订单数量，子查询语句会对第一个查询检索出的每个客户执行一次:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> cust_name<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span>
                   <span class="token keyword">FROM</span> Orders
                   <span class="token keyword">WHERE</span> Orders<span class="token punctuation">.</span>cust_id <span class="token operator">=</span> Customers<span class="token punctuation">.</span>cust_id<span class="token punctuation">)</span>
                   <span class="token keyword">AS</span> orders_num
<span class="token keyword">FROM</span> Customers
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> cust_name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="连接" tabindex="-1"><a class="header-anchor" href="#连接" aria-hidden="true">#</a> 连接</h2><ol><li>连接用于连接多个表，使用 JOIN 关键字，并且条件语句使用 ON 而不是 WHERE。</li><li>连接可以替换子查询，并且比子查询的效率一般会更快。</li><li>可以用 AS 给列名、计算字段和表名取别名，给表名取别名是为了简化 SQL 语句以及连接相同表。</li></ol><h3 id="内连接" tabindex="-1"><a class="header-anchor" href="#内连接" aria-hidden="true">#</a> 内连接</h3><p>内连接又称等值连接，使用 INNER JOIN 关键字。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> A<span class="token punctuation">.</span><span class="token keyword">value</span><span class="token punctuation">,</span> B<span class="token punctuation">.</span><span class="token keyword">value</span>
<span class="token keyword">FROM</span> tablea <span class="token keyword">AS</span> A <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> tableb <span class="token keyword">AS</span> B
<span class="token keyword">ON</span> A<span class="token punctuation">.</span><span class="token keyword">key</span> <span class="token operator">=</span> B<span class="token punctuation">.</span><span class="token keyword">key</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以不明确使用 INNER JOIN，而使用普通查询并在 WHERE 中将两个表中要连接的列用等值方法连接起来。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> A<span class="token punctuation">.</span><span class="token keyword">value</span><span class="token punctuation">,</span> B<span class="token punctuation">.</span><span class="token keyword">value</span>
<span class="token keyword">FROM</span> tablea <span class="token keyword">AS</span> A<span class="token punctuation">,</span> tableb <span class="token keyword">AS</span> B
<span class="token keyword">WHERE</span> A<span class="token punctuation">.</span><span class="token keyword">key</span> <span class="token operator">=</span> B<span class="token punctuation">.</span><span class="token keyword">key</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在没有条件语句的情况下返回笛卡尔积。</p><h3 id="自连接" tabindex="-1"><a class="header-anchor" href="#自连接" aria-hidden="true">#</a> 自连接</h3><p>自连接可以看成内连接的一种，只是连接的表是自身而已。</p><p>一张员工表，包含员工姓名和员工所属部门，要找出与 Jim 处在同一部门的所有员工姓名。</p><p>子查询版本</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> name
<span class="token keyword">FROM</span> employee
<span class="token keyword">WHERE</span> department <span class="token operator">=</span> <span class="token punctuation">(</span>
      <span class="token keyword">SELECT</span> department
      <span class="token keyword">FROM</span> employee
      <span class="token keyword">WHERE</span> name <span class="token operator">=</span> <span class="token string">&quot;Jim&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>自连接版本</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> e1<span class="token punctuation">.</span>name
<span class="token keyword">FROM</span> employee <span class="token keyword">AS</span> e1 <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> employee <span class="token keyword">AS</span> e2
<span class="token keyword">ON</span> e1<span class="token punctuation">.</span>department <span class="token operator">=</span> e2<span class="token punctuation">.</span>department
      <span class="token operator">AND</span> e2<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;Jim&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="自然连接" tabindex="-1"><a class="header-anchor" href="#自然连接" aria-hidden="true">#</a> 自然连接</h3><p>自然连接是把同名列通过等值测试连接起来的，同名列可以有多个。</p><p>内连接和自然连接的区别: 内连接提供连接的列，而自然连接自动连接所有同名列。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> A<span class="token punctuation">.</span><span class="token keyword">value</span><span class="token punctuation">,</span> B<span class="token punctuation">.</span><span class="token keyword">value</span>
<span class="token keyword">FROM</span> tablea <span class="token keyword">AS</span> A <span class="token keyword">NATURAL</span> <span class="token keyword">JOIN</span> tableb <span class="token keyword">AS</span> B<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="外连接" tabindex="-1"><a class="header-anchor" href="#外连接" aria-hidden="true">#</a> 外连接</h3><p>外连接保留了没有关联的那些行。分为左外连接，右外连接以及全外连接，左外连接就是保留左表没有关联的行。</p><p>检索所有顾客的订单信息，包括还没有订单信息的顾客。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> Customers<span class="token punctuation">.</span>cust_id<span class="token punctuation">,</span> Orders<span class="token punctuation">.</span>order_num
<span class="token keyword">FROM</span> Customers <span class="token keyword">LEFT</span> <span class="token keyword">OUTER</span> <span class="token keyword">JOIN</span> Orders
<span class="token keyword">ON</span> Customers<span class="token punctuation">.</span>cust_id <span class="token operator">=</span> Orders<span class="token punctuation">.</span>cust_id<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="组合查询" tabindex="-1"><a class="header-anchor" href="#组合查询" aria-hidden="true">#</a> 组合查询</h2><p>使用 UNION 来组合两个查询，如果第一个查询返回 M 行，第二个查询返回 N 行，那么组合查询的结果一般为 M+N 行。</p><p>每个查询必须包含相同的列、表达式和聚集函数。</p><p>默认会去除相同行，如果需要保留相同行，使用 UNION ALL。</p><p>只能包含一个 ORDER BY 子句，并且必须位于语句的最后。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> col
<span class="token keyword">FROM</span> mytable
<span class="token keyword">WHERE</span> col <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">UNION</span>
<span class="token keyword">SELECT</span> col
<span class="token keyword">FROM</span> mytable
<span class="token keyword">WHERE</span> col <span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="视图" tabindex="-1"><a class="header-anchor" href="#视图" aria-hidden="true">#</a> 视图</h2><p>视图是虚拟的表，本身不包含数据，也就不能对其进行索引操作。</p><p>对视图的操作和对普通表的操作一样。</p><p>视图具有如下好处:</p><ul><li>简化复杂的 SQL 操作，比如复杂的连接；</li><li>只使用实际表的一部分数据；</li><li>通过只给用户访问视图的权限，保证数据的安全性；</li><li>更改数据格式和表示。</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> myview <span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> Concat<span class="token punctuation">(</span>col1<span class="token punctuation">,</span> col2<span class="token punctuation">)</span> <span class="token keyword">AS</span> concat_col<span class="token punctuation">,</span> col3<span class="token operator">*</span>col4 <span class="token keyword">AS</span> compute_col
<span class="token keyword">FROM</span> mytable
<span class="token keyword">WHERE</span> col5 <span class="token operator">=</span> val<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="存储过程" tabindex="-1"><a class="header-anchor" href="#存储过程" aria-hidden="true">#</a> 存储过程</h2><p>存储过程可以看成是对一系列 SQL 操作的批处理。 使用存储过程的好处:</p><ul><li>代码封装，保证了一定的安全性；</li><li>代码复用；</li><li>由于是预先编译，因此具有很高的性能。 命令行中创建存储过程需要自定义分隔符，因为命令行是以 ; 为结束符，而存储过程中也包含了分号，因此会错误把这部分分号当成是结束符，造成语法错误。</li></ul><p>包含 in、out 和 inout 三种参数。</p><p>给变量赋值都需要用 select into 语句。</p><p>每次只能给一个变量赋值，不支持集合的操作。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">delimiter</span> <span class="token comment">//</span>

<span class="token keyword">create</span> <span class="token keyword">procedure</span> myprocedure<span class="token punctuation">(</span> <span class="token keyword">out</span> ret <span class="token keyword">int</span> <span class="token punctuation">)</span>
    <span class="token keyword">begin</span>
        <span class="token keyword">declare</span> y <span class="token keyword">int</span><span class="token punctuation">;</span>
        <span class="token keyword">select</span> <span class="token function">sum</span><span class="token punctuation">(</span>col1<span class="token punctuation">)</span>
        <span class="token keyword">from</span> mytable
        <span class="token keyword">into</span> y<span class="token punctuation">;</span>
        <span class="token keyword">select</span> y<span class="token operator">*</span>y <span class="token keyword">into</span> ret<span class="token punctuation">;</span>
    <span class="token keyword">end</span> <span class="token comment">//</span>

<span class="token keyword">delimiter</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">call</span> myprocedure<span class="token punctuation">(</span><span class="token variable">@ret</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token variable">@ret</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="游标" tabindex="-1"><a class="header-anchor" href="#游标" aria-hidden="true">#</a> 游标</h2><p>在存储过程中使用游标可以对一个结果集进行移动遍历。</p><p>游标主要用于交互式应用，其中用户需要对数据集中的任意行进行浏览和修改。</p><p>使用游标的四个步骤:</p><ul><li>声明游标，这个过程没有实际检索出数据；</li><li>打开游标；</li><li>取出数据；</li><li>关闭游标；</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">delimiter</span> <span class="token comment">//</span>
<span class="token keyword">create</span> <span class="token keyword">procedure</span> myprocedure<span class="token punctuation">(</span><span class="token keyword">out</span> ret <span class="token keyword">int</span><span class="token punctuation">)</span>
    <span class="token keyword">begin</span>
        <span class="token keyword">declare</span> done <span class="token keyword">boolean</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">;</span>

        <span class="token keyword">declare</span> mycursor <span class="token keyword">cursor</span> <span class="token keyword">for</span>
        <span class="token keyword">select</span> col1 <span class="token keyword">from</span> mytable<span class="token punctuation">;</span>
        <span class="token comment"># 定义了一个 continue handler，当 sqlstate &#39;02000&#39; 这个条件出现时，会执行 set done = 1</span>
        <span class="token keyword">declare</span> <span class="token keyword">continue</span> <span class="token keyword">handler</span> <span class="token keyword">for</span> sqlstate <span class="token string">&#39;02000&#39;</span> <span class="token keyword">set</span> done <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

        <span class="token keyword">open</span> mycursor<span class="token punctuation">;</span>

        <span class="token keyword">repeat</span>
            <span class="token keyword">fetch</span> mycursor <span class="token keyword">into</span> ret<span class="token punctuation">;</span>
            <span class="token keyword">select</span> ret<span class="token punctuation">;</span>
        until done <span class="token keyword">end</span> <span class="token keyword">repeat</span><span class="token punctuation">;</span>

        <span class="token keyword">close</span> mycursor<span class="token punctuation">;</span>
    <span class="token keyword">end</span> <span class="token comment">//</span>
 <span class="token keyword">delimiter</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="触发器" tabindex="-1"><a class="header-anchor" href="#触发器" aria-hidden="true">#</a> 触发器</h2><p>触发器会在某个表执行以下语句时而自动执行: DELETE、INSERT、UPDATE。</p><p>触发器必须指定在语句执行之前还是之后自动执行，之前执行使用 BEFORE 关键字，之后执行使用 AFTER 关键字。BEFORE 用于数据验证和净化，AFTER 用于审计跟踪，将修改记录到另外一张表中。 INSERT 触发器包含一个名为 NEW 的虚拟表。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TRIGGER</span> mytrigger <span class="token keyword">AFTER</span> <span class="token keyword">INSERT</span> <span class="token keyword">ON</span> mytable
<span class="token keyword">FOR EACH ROW</span> <span class="token keyword">SELECT</span> NEW<span class="token punctuation">.</span>col <span class="token keyword">into</span> <span class="token variable">@result</span><span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token variable">@result</span><span class="token punctuation">;</span> <span class="token comment">-- 获取结果</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>DELETE 触发器包含一个名为 OLD 的虚拟表，并且是只读的。</p><p>UPDATE 触发器包含一个名为 NEW 和一个名为 OLD 的虚拟表，其中 NEW 是可以被修改的，而 OLD 是只读的。</p><p>MySQL 不允许在触发器中使用 CALL 语句，也就是不能调用存储过程。</p><h2 id="事务管理" tabindex="-1"><a class="header-anchor" href="#事务管理" aria-hidden="true">#</a> 事务管理</h2><p>基本术语:</p><ul><li>事务(transaction)指一组 SQL 语句；</li><li>回退(rollback)指撤销指定 SQL 语句的过程；</li><li>提交(commit)指将未存储的 SQL 语句结果写入数据库表；</li><li>保留点(savepoint)指事务处理中设置的临时占位符(placeholder)，你可以对它发布回退(与回退整个事务处理不同)。 不能回退 SELECT 语句，回退 SELECT 语句也没意义；也不能回退 CREATE 和 DROP 语句。</li></ul><p>MySQL 的事务提交默认是隐式提交，每执行一条语句就把这条语句当成一个事务然后进行提交。当出现 START TRANSACTION 语句时，会关闭隐式提交；当 COMMIT 或 ROLLBACK 语句执行后，事务会自动关闭，重新恢复隐式提交。</p><p>通过设置 autocommit 为 0 可以取消自动提交；autocommit 标记是针对每个连接而不是针对服务器的。</p><p>如果没有设置保留点，ROLLBACK 会回退到 START TRANSACTION 语句处；如果设置了保留点，并且在 ROLLBACK 中指定该保留点，则会回退到该保留点。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">START</span> <span class="token keyword">TRANSACTION</span>
<span class="token comment">// ...</span>
<span class="token keyword">SAVEPOINT</span> delete1
<span class="token comment">// ...</span>
<span class="token keyword">ROLLBACK</span> <span class="token keyword">TO</span> delete1
<span class="token comment">// ...</span>
<span class="token keyword">COMMIT</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="字符集" tabindex="-1"><a class="header-anchor" href="#字符集" aria-hidden="true">#</a> 字符集</h2><p>基本术语:</p><ul><li>字符集为字母和符号的集合；</li><li>编码为某个字符集成员的内部表示；</li><li>校对字符指定如何比较，主要用于排序和分组。 除了给表指定字符集和校对外，也可以给列指定:</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> mytable
<span class="token punctuation">(</span>col <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> latin <span class="token keyword">COLLATE</span> latin1_general_ci <span class="token punctuation">)</span>
<span class="token keyword">DEFAULT</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> hebrew <span class="token keyword">COLLATE</span> hebrew_general_ci<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以在排序、分组时指定校对:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> mytable
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> col <span class="token keyword">COLLATE</span> latin1_general_ci<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="权限管理" tabindex="-1"><a class="header-anchor" href="#权限管理" aria-hidden="true">#</a> 权限管理</h2><p>MySQL 的账户信息保存在 mysql 这个数据库中。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">USE</span> mysql<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token keyword">user</span> <span class="token keyword">FROM</span> <span class="token keyword">user</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="创建账户" tabindex="-1"><a class="header-anchor" href="#创建账户" aria-hidden="true">#</a> 创建账户</h3><p>新创建的账户没有任何权限。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">USER</span> myuser IDENTIFIED <span class="token keyword">BY</span> <span class="token string">&#39;mypassword&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="修改账户名" tabindex="-1"><a class="header-anchor" href="#修改账户名" aria-hidden="true">#</a> 修改账户名</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">RENAME</span> myuser <span class="token keyword">TO</span> newuser<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="删除账户" tabindex="-1"><a class="header-anchor" href="#删除账户" aria-hidden="true">#</a> 删除账户</h3><p>DROP USER myuser;</p><h3 id="查看权限" tabindex="-1"><a class="header-anchor" href="#查看权限" aria-hidden="true">#</a> 查看权限</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> GRANTS <span class="token keyword">FOR</span> myuser<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="授予权限" tabindex="-1"><a class="header-anchor" href="#授予权限" aria-hidden="true">#</a> 授予权限</h3><p>账户用 username@host 的形式定义，username@% 使用的是默认主机名。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">GRANT</span> <span class="token keyword">SELECT</span><span class="token punctuation">,</span> <span class="token keyword">INSERT</span> <span class="token keyword">ON</span> mydatabase<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> myuser<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="删除权限" tabindex="-1"><a class="header-anchor" href="#删除权限" aria-hidden="true">#</a> 删除权限</h3><p>GRANT 和 REVOKE 可在几个层次上控制访问权限:</p><ul><li>整个服务器，使用 GRANT ALL 和 REVOKE ALL；</li><li>整个数据库，使用 ON database.*；</li><li>特定的表，使用 ON database.table；</li><li>特定的列；</li><li>特定的存储过程。</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">REVOKE</span> <span class="token keyword">SELECT</span><span class="token punctuation">,</span> <span class="token keyword">INSERT</span> <span class="token keyword">ON</span> mydatabase<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">FROM</span> myuser<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="更改密码" tabindex="-1"><a class="header-anchor" href="#更改密码" aria-hidden="true">#</a> 更改密码</h3><p>必须使用 Password() 函数</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SET</span> PASSWROD <span class="token keyword">FOR</span> myuser <span class="token operator">=</span> Password<span class="token punctuation">(</span><span class="token string">&#39;new_password&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料" aria-hidden="true">#</a> 参考资料</h2><ul><li>BenForta. SQL 必知必会 [M]. 人民邮电出版社, 2013.</li></ul></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/calvinie/mydoc/edit/main/md/db/sql-lan/sql-lan.md" rel="noopener noreferrer" target="_blank" aria-label="编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">上次编辑于: </span><!----></div><div class="contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: nieyanbin960520@qq.com">calvin</span><!--]--><!--]--></div></div></footer><nav class="page-nav"><!----><a href="/md/db/sql-lan/sql-lan-leetcode.html" class="nav-link next" aria-label="SQL语言-leetcode"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">SQL语言-leetcode<!----></div></a></nav><!----><!----><!--]--></main><!--]--><!----></div><!--]--><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-d6fbb73f.js" defer></script>
  </body>
</html>
